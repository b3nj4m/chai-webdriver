<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Chai-webdriver : Build more expressive integration tests with webdriver sugar for chai.js">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Chai-webdriver</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/b3nj4m/chai-webdriver">View on GitHub</a>

          <h1 id="project_title">Chai-webdriver</h1>
          <h2 id="project_tagline">Build more expressive integration tests with webdriver sugar for chai.js</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/b3nj4m/chai-webdriver/archive/v0.14.0.zip">Download v0.14.0 as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/b3nj4m/chai-webdriver/archive/v0.14.0.tar.gz">Download v0.14.0 as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p>Provides <a href="https://npmjs.org/package/selenium-webdriver">selenium-webdriver</a> sugar for the <a href="http://chaijs.com/">Chai</a> assertion library. Allows you to create expressive integration tests:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">expect</span><span class="p">(</span><span class="s1">'.frequency-field'</span><span class="p">).</span><span class="nx">dom</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">contain</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s1">'One time'</span><span class="p">)</span>
<span class="nx">expect</span><span class="p">(</span><span class="s1">'.toggle-pane'</span><span class="p">).</span><span class="nx">dom</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">visible</span><span class="p">()</span>
</pre></div>

<h2>
<a name="what-sorts-of-assertions-can-we-make" class="anchor" href="#what-sorts-of-assertions-can-we-make"><span class="octicon octicon-link"></span></a>What sorts of assertions can we make?</h2>

<p>All assertions start with a <a href="http://sizzlejs.com/">Sizzle-compatible css selector</a>, for example:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">expect</span><span class="p">(</span><span class="s1">'.list'</span><span class="p">)</span>
<span class="nx">expect</span><span class="p">(</span><span class="s1">'div &gt; h1'</span><span class="p">)</span>
<span class="nx">expect</span><span class="p">(</span><span class="s1">'a[href=http://google.com]'</span><span class="p">)</span>
</pre></div>

<p>Then we add the dom flag, like so:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">expect</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">dom</span>
</pre></div>

<p>Finally, we can add our assertion to the chain:</p>

<div class="highlight highlight-javascript"><pre><span class="c1">//Test the text value of the dom against supplied string. Exact matches only.</span>
<span class="nx">expect</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">dom</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s1">'string'</span><span class="p">)</span>
<span class="c1">//Test the text value of the dom against supplied string. Partial matches allowed.</span>
<span class="nx">expect</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">dom</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">contain</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s1">'string'</span><span class="p">)</span>
<span class="c1">//Test the text value of the dom against the regular expression.</span>
<span class="nx">expect</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">dom</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/regex/</span><span class="p">)</span>
<span class="c1">//Test the text value of the dom against the regular expression. (Same as `match` above).</span>
<span class="nx">expect</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">dom</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="sr">/regex/</span><span class="p">)</span>
<span class="c1">//Check whether or not the element is visible on-screen</span>
<span class="nx">expect</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">dom</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">visible</span><span class="p">()</span>
<span class="c1">//Check whether or not the form element is disabled</span>
<span class="nx">expect</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">dom</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">be</span><span class="p">.</span><span class="nx">disabled</span><span class="p">()</span>
<span class="c1">//Test how many elements exist in the dom with the supplied selector</span>
<span class="nx">expect</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">dom</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">count</span><span class="p">(</span><span class="nx">number</span><span class="p">)</span>
<span class="c1">//Test the CSS style of the element (exact string match).</span>
<span class="nx">expect</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">dom</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s1">'property'</span><span class="p">,</span> <span class="s1">'value'</span><span class="p">)</span>
<span class="c1">//Test the value of a form field against supplied string.</span>
<span class="nx">expect</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">dom</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">value</span><span class="p">(</span><span class="s1">'string'</span><span class="p">)</span>
<span class="c1">//Tests that the element has `warning` as one of its class attributes.</span>
<span class="nx">expect</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">dom</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">htmlClass</span><span class="p">(</span><span class="s1">'warning'</span><span class="p">)</span>
<span class="c1">//Test an element's attribute value. Exact matches only. By omitting `value` test simply checks for existance of attribute.</span>
<span class="nx">expect</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">dom</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">attribute</span><span class="p">(</span><span class="s1">'attribute'</span><span class="p">,</span> <span class="s1">'value'</span><span class="p">)</span>
</pre></div>

<p>You can also always add a <code>not</code> in there to negate the assertion:</p>

<div class="highlight highlight-javascript"><pre><span class="nx">expect</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">dom</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s1">'property'</span><span class="p">,</span> <span class="s1">'value'</span><span class="p">)</span>
</pre></div>

<h3>
<a name="larger-and-smaller" class="anchor" href="#larger-and-smaller"><span class="octicon octicon-link"></span></a>larger and smaller</h3>

<p>Several of the assertion methods support the <code>larger</code> and <code>smaller</code> properties, which allow numeric comparisons. e.g. for <code>value()</code>:</p>

<div class="highlight highlight-javascript"><pre><span class="c1">//Test for a numeric value larger (&gt;=) than 0.</span>
<span class="nx">expect</span><span class="p">(</span><span class="s1">'input[type=number]'</span><span class="p">).</span><span class="nx">dom</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">larger</span><span class="p">.</span><span class="nx">value</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="c1">//Test for a numeric value smaller (&lt;=) than 0.</span>
<span class="nx">expect</span><span class="p">(</span><span class="s1">'input[type=number]'</span><span class="p">).</span><span class="nx">dom</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">smaller</span><span class="p">.</span><span class="nx">value</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="c1">//Test for a numeric value not larger (&lt;) than 0.</span>
<span class="nx">expect</span><span class="p">(</span><span class="s1">'input[type=number]'</span><span class="p">).</span><span class="nx">dom</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">larger</span><span class="p">.</span><span class="nx">value</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="c1">//Test for a numeric value not smaller (&gt;) than 0.</span>
<span class="nx">expect</span><span class="p">(</span><span class="s1">'input[type=number]'</span><span class="p">).</span><span class="nx">dom</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">smaller</span><span class="p">.</span><span class="nx">value</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>

<p>Other methods which support <code>larger</code> and <code>smaller</code>:</p>

<div class="highlight highlight-javascript"><pre><span class="c1">//Test for text with length larger (&gt;=) than 0.</span>
<span class="nx">expect</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">dom</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">larger</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="c1">//Test for number of elements matching `selector` larger (&gt;=) than 0.</span>
<span class="nx">expect</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">dom</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">larger</span><span class="p">.</span><span class="nx">count</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="c1">//Test for css attribute value larger (&gt;=) than 0 (ignores units).</span>
<span class="nx">expect</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">dom</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">larger</span><span class="p">.</span><span class="nx">style</span><span class="p">(</span><span class="s1">'width'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="c1">//Test for attribute value larger (&gt;=) than 0.</span>
<span class="nx">expect</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">dom</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">larger</span><span class="p">.</span><span class="nx">attribute</span><span class="p">(</span><span class="s1">'offsetWidth'</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

<h3>
<a name="eventually" class="anchor" href="#eventually"><span class="octicon octicon-link"></span></a>eventually</h3>

<p>You can also add an <code>eventually</code> to tell <code>chai-webdriver</code> to poll for the selected elements up to the configured timeout (see Setup below):</p>

<div class="highlight highlight-javascript"><pre><span class="nx">expect</span><span class="p">(</span><span class="nx">selector</span><span class="p">).</span><span class="nx">dom</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">eventually</span><span class="p">.</span><span class="nx">have</span><span class="p">.</span><span class="nx">htmlClass</span><span class="p">(</span><span class="s1">'warning'</span><span class="p">)</span>
</pre></div>

<h3>
<a name="everything-returns-a-promise" class="anchor" href="#everything-returns-a-promise"><span class="octicon octicon-link"></span></a>Everything returns a promise</h3>

<p>All of these assertions return a <code>Q</code> promise, so you can just return the promise if you're using mocha.</p>

<h2>
<a name="setup" class="anchor" href="#setup"><span class="octicon octicon-link"></span></a>Setup</h2>

<p>Setup is pretty easy. Just:</p>

<div class="highlight highlight-javascript"><pre>
<span class="c1">// Start with a webdriver instance:</span>
<span class="kd">var</span> <span class="nx">sw</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'selenium-webdriver'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">driver</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">sw</span><span class="p">.</span><span class="nx">Builder</span><span class="p">()</span>
  <span class="p">.</span><span class="nx">withCapabilities</span><span class="p">(</span><span class="nx">sw</span><span class="p">.</span><span class="nx">Capabilities</span><span class="p">.</span><span class="nx">chrome</span><span class="p">())</span>
  <span class="p">.</span><span class="nx">build</span><span class="p">()</span>

<span class="c1">//optional timeout in ms to use with eventually (defaults to 1000)</span>
<span class="kd">var</span> <span class="nx">timeout</span> <span class="o">=</span> <span class="mi">15000</span><span class="p">;</span>

<span class="c1">// And then...</span>
<span class="kd">var</span> <span class="nx">chai</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'chai'</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">chaiWebdriver</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'chai-webdriver'</span><span class="p">);</span>
<span class="nx">chai</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">chaiWebdriver</span><span class="p">(</span><span class="nx">driver</span><span class="p">,</span> <span class="nx">timeout</span><span class="p">));</span>

<span class="c1">// And you're good to go!</span>
<span class="nx">chai</span><span class="p">.</span><span class="nx">describe</span><span class="p">(</span><span class="s1">'kitty test'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">chai</span><span class="p">.</span><span class="nx">before</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">done</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">driver</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'http://github.com'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">done</span><span class="p">);</span>
  <span class="p">});</span>
  <span class="nx">it</span><span class="p">(</span><span class="s1">'should not find a kitty'</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">chai</span><span class="p">.</span><span class="nx">expect</span><span class="p">(</span><span class="s1">'#site-container h1.heading'</span><span class="p">).</span><span class="nx">dom</span><span class="p">.</span><span class="nx">to</span><span class="p">.</span><span class="nx">not</span><span class="p">.</span><span class="nx">contain</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">"I'm a kitty!"</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</pre></div>

<h2>
<a name="contributing" class="anchor" href="#contributing"><span class="octicon octicon-link"></span></a>Contributing</h2>

<p>so easy.</p>

<div class="highlight highlight-bash"><pre><span class="nv">$EDITOR</span> index.js      <span class="c"># edit index.js</span>
npm <span class="nb">test</span>              <span class="c"># run the specs</span>
</pre></div>

<h2>
<a name="license" class="anchor" href="#license"><span class="octicon octicon-link"></span></a>License</h2>

<p>MIT.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Chai-webdriver maintained by <a href="https://github.com/b3nj4m">b3nj4m</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
